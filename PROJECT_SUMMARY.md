# ä¼ æ„Ÿå™¨ç›‘æ§ç³»ç»Ÿ - é¡¹ç›®æ€»ç»“

## é¡¹ç›®å®Œæˆæƒ…å†µ

### âœ… å·²å®Œæˆçš„åŠŸèƒ½

#### 1. æ ¸å¿ƒæ¶æ„
- [x] Spring Boot 3.5.5 é¡¹ç›®æ¡†æ¶æ­å»º
- [x] Maven ä¾èµ–ç®¡ç†å’Œæ„å»ºé…ç½®
- [x] åˆ†å±‚æ¶æ„è®¾è®¡ï¼ˆController -> Service -> Repository -> Entityï¼‰
- [x] é…ç½®å¤–éƒ¨åŒ–ï¼ˆapplication.yamlï¼‰

#### 2. æ•°æ®æ¨¡å‹è®¾è®¡
- [x] SensorData å®ä½“ï¼ˆä¼ æ„Ÿå™¨æ•°æ®ï¼‰
- [x] AlertMessage å®ä½“ï¼ˆè­¦æŠ¥ä¿¡æ¯ï¼‰
- [x] SystemConfig å®ä½“ï¼ˆç³»ç»Ÿé…ç½®ï¼‰
- [x] JPA æ³¨è§£å’Œå…³ç³»æ˜ å°„

#### 3. æ•°æ®è®¿é—®å±‚
- [x] SensorDataRepositoryï¼ˆä¼ æ„Ÿå™¨æ•°æ®ä»“åº“ï¼‰
- [x] AlertMessageRepositoryï¼ˆè­¦æŠ¥ä¿¡æ¯ä»“åº“ï¼‰
- [x] SystemConfigRepositoryï¼ˆç³»ç»Ÿé…ç½®ä»“åº“ï¼‰
- [x] è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•

#### 4. ä¸šåŠ¡é€»è¾‘å±‚
- [x] SensorDataServiceï¼ˆä¼ æ„Ÿå™¨æ•°æ®æœåŠ¡ï¼‰
- [x] AlertMessageServiceï¼ˆè­¦æŠ¥ä¿¡æ¯æœåŠ¡ï¼‰
- [x] SystemConfigServiceï¼ˆç³»ç»Ÿé…ç½®æœåŠ¡ï¼‰
- [x] SensorSimulatorServiceï¼ˆä¼ æ„Ÿå™¨æ¨¡æ‹Ÿå™¨ï¼‰
- [x] ZRDDSServiceï¼ˆZRDDSä¸­é—´ä»¶æœåŠ¡ï¼‰
- [x] DataListenerServiceï¼ˆæ•°æ®ç›‘å¬å™¨ï¼‰
- [x] WebSocketServiceï¼ˆWebSocketæœåŠ¡ï¼‰
- [x] SystemInitializationServiceï¼ˆç³»ç»Ÿåˆå§‹åŒ–ï¼‰

#### 5. Webå±‚
- [x] SensorControllerï¼ˆä¼ æ„Ÿå™¨æ•°æ®æ§åˆ¶å™¨ï¼‰
- [x] AlertControllerï¼ˆè­¦æŠ¥ä¿¡æ¯æ§åˆ¶å™¨ï¼‰
- [x] SystemControllerï¼ˆç³»ç»Ÿé…ç½®æ§åˆ¶å™¨ï¼‰
- [x] RESTful API è®¾è®¡

#### 6. å®æ—¶é€šä¿¡
- [x] WebSocket é…ç½®
- [x] STOMP æ¶ˆæ¯ä»£ç†
- [x] å®æ—¶æ•°æ®æ¨é€
- [x] å‰ç«¯ WebSocket è¿æ¥

#### 7. å‰ç«¯ç•Œé¢
- [x] å“åº”å¼ Web ç•Œé¢
- [x] å®æ—¶æ•°æ®æ˜¾ç¤º
- [x] è­¦æŠ¥ç®¡ç†ç•Œé¢
- [x] æ§åˆ¶é¢æ¿
- [x] WebSocket å®æ—¶æ›´æ–°

#### 8. éƒ¨ç½²å’Œè¿ç»´
- [x] Docker æ”¯æŒ
- [x] Docker Compose é…ç½®
- [x] æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
- [x] å¯åŠ¨è„šæœ¬ï¼ˆWindows/Linuxï¼‰
- [x] æ‰“åŒ…è„šæœ¬

#### 9. æ–‡æ¡£
- [x] README.md é¡¹ç›®è¯´æ˜
- [x] API æ¥å£æ–‡æ¡£
- [x] é…ç½®è¯´æ˜
- [x] éƒ¨ç½²æŒ‡å—

### ğŸ”„ å¾…å®Œå–„çš„åŠŸèƒ½

#### 1. ZRDDSä¸­é—´ä»¶é›†æˆ
- [ ] çœŸå®çš„ZRDDSåº“é›†æˆ
- [ ] æ•°æ®å‘å¸ƒåŠŸèƒ½å®ç°
- [ ] ä¸»é¢˜è®¢é˜…åŠŸèƒ½å®ç°
- [ ] é”™è¯¯å¤„ç†å’Œé‡è¿æœºåˆ¶

#### 2. æµ‹è¯•
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] API æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•

#### 3. ç›‘æ§å’Œæ—¥å¿—
- [ ] åº”ç”¨æ€§èƒ½ç›‘æ§
- [ ] æ—¥å¿—èšåˆ
- [ ] å¥åº·æ£€æŸ¥ç«¯ç‚¹
- [ ] æŒ‡æ ‡æ”¶é›†

## æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Spring Boot 3.5.5
- **æ•°æ®åº“**: MySQL 8.0
- **ORM**: Spring Data JPA + Hibernate
- **å®æ—¶é€šä¿¡**: WebSocket + STOMP
- **æ„å»ºå·¥å…·**: Maven
- **Javaç‰ˆæœ¬**: 17

### å‰ç«¯æŠ€æœ¯æ ˆ
- **HTML5**: è¯­ä¹‰åŒ–æ ‡ç­¾
- **CSS3**: å“åº”å¼è®¾è®¡ã€Gridå¸ƒå±€
- **JavaScript**: ES6+ã€Fetch API
- **WebSocket**: SockJS + STOMP.js

### éƒ¨ç½²æŠ€æœ¯
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **æ•°æ®åº“**: MySQL 8.0
- **è„šæœ¬**: Windowsæ‰¹å¤„ç† + Linux Shell

## é¡¹ç›®ç»“æ„

```
fitness/
â”œâ”€â”€ src/main/java/com/team9/fitness/
â”‚   â”œâ”€â”€ controller/          # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ SensorController.java
â”‚   â”‚   â”œâ”€â”€ AlertController.java
â”‚   â”‚   â””â”€â”€ SystemController.java
â”‚   â”œâ”€â”€ entity/             # æ•°æ®å®ä½“
â”‚   â”‚   â”œâ”€â”€ SensorData.java
â”‚   â”‚   â”œâ”€â”€ AlertMessage.java
â”‚   â”‚   â””â”€â”€ SystemConfig.java
â”‚   â”œâ”€â”€ repository/         # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ SensorDataRepository.java
â”‚   â”‚   â”œâ”€â”€ AlertMessageRepository.java
â”‚   â”‚   â””â”€â”€ SystemConfigRepository.java
â”‚   â”œâ”€â”€ service/            # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ SensorDataService.java
â”‚   â”‚   â”œâ”€â”€ AlertMessageService.java
â”‚   â”‚   â”œâ”€â”€ SystemConfigService.java
â”‚   â”‚   â”œâ”€â”€ SensorSimulatorService.java
â”‚   â”‚   â”œâ”€â”€ ZRDDSService.java
â”‚   â”‚   â”œâ”€â”€ DataListenerService.java
â”‚   â”‚   â”œâ”€â”€ WebSocketService.java
â”‚   â”‚   â””â”€â”€ SystemInitializationService.java
â”‚   â””â”€â”€ config/             # é…ç½®ç±»
â”‚       â””â”€â”€ WebSocketConfig.java
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.yaml    # åº”ç”¨é…ç½®
â”‚   â””â”€â”€ static/
â”‚       â””â”€â”€ index.html      # Webç•Œé¢
â”œâ”€â”€ pom.xml                 # Mavené…ç½®
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ Dockerfile             # Dockeré•œåƒ
â”œâ”€â”€ docker-compose.yml     # Dockerç¼–æ’
â”œâ”€â”€ init.sql              # æ•°æ®åº“åˆå§‹åŒ–
â”œâ”€â”€ start.bat             # Windowså¯åŠ¨è„šæœ¬
â”œâ”€â”€ start.sh              # Linuxå¯åŠ¨è„šæœ¬
â””â”€â”€ package.bat           # æ‰“åŒ…è„šæœ¬
```

## APIæ¥å£

### ä¼ æ„Ÿå™¨æ•°æ®æ¥å£
- `GET /api/sensors/latest/{sensorType}` - è·å–æœ€æ–°ä¼ æ„Ÿå™¨æ•°æ®
- `GET /api/sensors/{sensorType}/range` - è·å–æ—¶é—´èŒƒå›´å†…çš„æ•°æ®
- `GET /api/sensors/{sensorType}/recent` - è·å–æœ€è¿‘10æ¡æ•°æ®
- `GET /api/sensors/{sensorType}/average` - è®¡ç®—å¹³å‡å€¼
- `POST /api/sensors/temperature/generate` - æ‰‹åŠ¨ç”Ÿæˆæ¸©åº¦æ•°æ®
- `POST /api/sensors/humidity/generate` - æ‰‹åŠ¨ç”Ÿæˆæ¹¿åº¦æ•°æ®

### è­¦æŠ¥æ¥å£
- `GET /api/alerts/unread` - è·å–æœªè¯»è­¦æŠ¥
- `GET /api/alerts/range` - è·å–æ—¶é—´èŒƒå›´å†…çš„è­¦æŠ¥
- `GET /api/alerts/level/{level}` - æ ¹æ®çº§åˆ«è·å–è­¦æŠ¥
- `PUT /api/alerts/{alertId}/read` - æ ‡è®°è­¦æŠ¥ä¸ºå·²è¯»
- `PUT /api/alerts/read-all` - æ ‡è®°æ‰€æœ‰è­¦æŠ¥ä¸ºå·²è¯»
- `GET /api/alerts/unread-count` - è·å–æœªè¯»è­¦æŠ¥æ•°é‡

### ç³»ç»Ÿé…ç½®æ¥å£
- `GET /api/system/config/{configKey}` - è·å–é…ç½®å€¼
- `POST /api/system/config` - ä¿å­˜æˆ–æ›´æ–°é…ç½®
- `DELETE /api/system/config/{configKey}` - åˆ é™¤é…ç½®

## éƒ¨ç½²æ–¹å¼

### 1. ä¼ ç»Ÿéƒ¨ç½²
```bash
# ç¼–è¯‘æ‰“åŒ…
mvn clean package

# è¿è¡Œåº”ç”¨
java -jar target/fitness-0.0.1-SNAPSHOT.jar
```

### 2. Dockeréƒ¨ç½²
```bash
# ä½¿ç”¨Docker Compose
docker-compose up -d

# æˆ–å•ç‹¬æ„å»ºé•œåƒ
docker build -t fitness-app .
docker run -p 8080:8080 fitness-app
```

### 3. è„šæœ¬éƒ¨ç½²
```bash
# Windows
start.bat

# Linux/Mac
chmod +x start.sh
./start.sh
```

## é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/dds
    username: root
    password: 123
```

### ä¼ æ„Ÿå™¨é…ç½®
```yaml
sensor:
  temperature:
    interval: 5000  # æ•°æ®ç”Ÿæˆé—´éš”(æ¯«ç§’)
    threshold: 30.0  # æ¸©åº¦é˜ˆå€¼
  humidity:
    interval: 8000  # æ•°æ®ç”Ÿæˆé—´éš”(æ¯«ç§’)
    threshold: 80.0  # æ¹¿åº¦é˜ˆå€¼
```

### ZRDDSé…ç½®
```yaml
zrdds:
  domain-id: 0
  participant-name: FitnessParticipant
  qos-profile: ZRDDS_QOS_PROFILES.xml
```

## åŠŸèƒ½ç‰¹æ€§

### å®æ—¶ç›‘æ§
- æ¸©åº¦ä¼ æ„Ÿå™¨æ•°æ®å®æ—¶æ˜¾ç¤º
- æ¹¿åº¦ä¼ æ„Ÿå™¨æ•°æ®å®æ—¶æ˜¾ç¤º
- WebSocketå®æ—¶æ•°æ®æ¨é€
- æ•°æ®æ—¶é—´æˆ³è®°å½•

### è­¦æŠ¥ç³»ç»Ÿ
- åŸºäºé˜ˆå€¼çš„è‡ªåŠ¨è­¦æŠ¥
- å¤šçº§åˆ«è­¦æŠ¥ï¼ˆä¿¡æ¯ã€è­¦å‘Šã€é”™è¯¯ã€ä¸¥é‡ï¼‰
- å¹³å‡å€¼é˜ˆå€¼æ£€æµ‹
- è­¦æŠ¥å†å²è®°å½•

### æ•°æ®ç®¡ç†
- æ•°æ®æŒä¹…åŒ–å­˜å‚¨
- å†å²æ•°æ®æŸ¥è¯¢
- æ•°æ®ç»Ÿè®¡å’Œåˆ†æ
- è‡ªåŠ¨æ•°æ®æ¸…ç†

### ç³»ç»Ÿé…ç½®
- åŠ¨æ€é˜ˆå€¼é…ç½®
- ç³»ç»Ÿå‚æ•°ç®¡ç†
- é…ç½®æŒä¹…åŒ–
- é…ç½®éªŒè¯

## ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸç›®æ ‡ï¼ˆ1-2å‘¨ï¼‰
1. é›†æˆçœŸå®çš„ZRDDSä¸­é—´ä»¶
2. å®Œå–„é”™è¯¯å¤„ç†æœºåˆ¶
3. æ·»åŠ å•å…ƒæµ‹è¯•
4. æ€§èƒ½ä¼˜åŒ–

### ä¸­æœŸç›®æ ‡ï¼ˆ1ä¸ªæœˆï¼‰
1. æ·»åŠ æ›´å¤šä¼ æ„Ÿå™¨ç±»å‹
2. å®ç°æ•°æ®å¯è§†åŒ–å›¾è¡¨
3. æ·»åŠ ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
4. å®ç°æ•°æ®å¯¼å‡ºåŠŸèƒ½

### é•¿æœŸç›®æ ‡ï¼ˆ3ä¸ªæœˆï¼‰
1. å¾®æœåŠ¡æ¶æ„æ”¹é€ 
2. åˆ†å¸ƒå¼éƒ¨ç½²æ”¯æŒ
3. å¤§æ•°æ®åˆ†æåŠŸèƒ½
4. ç§»åŠ¨ç«¯åº”ç”¨å¼€å‘

## æ€»ç»“

æœ¬é¡¹ç›®æˆåŠŸå®ç°äº†ä¸€ä¸ªåŸºäºSpring Bootçš„ä¼ æ„Ÿå™¨ç›‘æ§ç³»ç»Ÿï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š

1. **å®Œæ•´çš„æ¶æ„è®¾è®¡**: é‡‡ç”¨åˆ†å±‚æ¶æ„ï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
2. **å®æ—¶æ•°æ®å¤„ç†**: æ”¯æŒWebSocketå®æ—¶æ•°æ®æ¨é€å’Œè­¦æŠ¥é€šçŸ¥
3. **çµæ´»çš„é…ç½®ç®¡ç†**: æ”¯æŒåŠ¨æ€é…ç½®å’Œå¤–éƒ¨åŒ–é…ç½®
4. **å¤šç§éƒ¨ç½²æ–¹å¼**: æ”¯æŒä¼ ç»Ÿéƒ¨ç½²ã€Dockerå®¹å™¨åŒ–éƒ¨ç½²
5. **å‹å¥½çš„ç”¨æˆ·ç•Œé¢**: å“åº”å¼Webç•Œé¢ï¼Œæ”¯æŒå®æ—¶æ•°æ®å±•ç¤º
6. **å®Œå–„çš„æ–‡æ¡£**: æä¾›è¯¦ç»†çš„é¡¹ç›®æ–‡æ¡£å’Œéƒ¨ç½²æŒ‡å—

é¡¹ç›®ä¸ºåç»­çš„ZRDDSä¸­é—´ä»¶é›†æˆå’ŒåŠŸèƒ½æ‰©å±•å¥ å®šäº†è‰¯å¥½çš„åŸºç¡€ã€‚
