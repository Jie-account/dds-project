<?xml version="1.0" encoding="UTF-8"?>
<zrdds_qos xmlns="http://www.omg.org/dds/">
    <qos_library name="default_lib">
        <qos_profile name="default_profile">
            <!-- 域参与者工厂QoS -->
            <participantfactory_qos name="default_lib">
                <entity_factory>
                    <autoenable_created_entities>true</autoenable_created_entities>
                </entity_factory>
            </participantfactory_qos>
            
            <!-- UDP域参与者QoS -->
            <participant_qos name="udp_dp">
                <discovery_config>
                    <participant_liveliness_assert_period>
                        <sec>3</sec>
                        <nanosec>0</nanosec>
                    </participant_liveliness_assert_period>
                    <participant_liveliness_lease_duration>
                        <sec>10</sec>
                        <nanosec>0</nanosec>
                    </participant_liveliness_lease_duration>
                </discovery_config>
                <usertraffic_receive_addresses>
                    <addresses>
                        <element>udpv4://default//0</element>
                    </addresses>
                </usertraffic_receive_addresses>
                <property>
                    <value>
                        <element>
                            <name>dds.transport.UDPv4.builtin.verbosity</name>
                            <value>5</value>
                        </element>
                    </value>
                </property>
            </participant_qos>
            
            <!-- TCP域参与者QoS -->
            <participant_qos name="tcp_dp">
                <discovery_config>
                    <participant_liveliness_assert_period>
                        <sec>3</sec>
                        <nanosec>0</nanosec>
                    </participant_liveliness_assert_period>
                    <participant_liveliness_lease_duration>
                        <sec>10</sec>
                        <nanosec>0</nanosec>
                    </participant_liveliness_lease_duration>
                </discovery_config>
                <usertraffic_receive_addresses>
                    <addresses>
                        <element>tcpv4://default//0</element>
                    </addresses>
                </usertraffic_receive_addresses>
            </participant_qos>
            
            <!-- 数据写者QoS - 可靠传输 -->
            <datawriter_qos name="reliable">
                <reliability>
                    <kind>RELIABLE_RELIABILITY_QOS</kind>
                </reliability>
                <durability>
                    <kind>VOLATILE_DURABILITY_QOS</kind>
                </durability>
                <history>
                    <kind>KEEP_LAST_HISTORY_QOS</kind>
                    <depth>10</depth>
                </history>
                <resource_limits>
                    <max_samples>1024</max_samples>
                    <max_samples_per_instance>1024</max_samples_per_instance>
                </resource_limits>
            </datawriter_qos>
            
            <!-- 数据写者QoS - 尽力而为传输 -->
            <datawriter_qos name="best_effort">
                <reliability>
                    <kind>BEST_EFFORT_RELIABILITY_QOS</kind>
                </reliability>
                <durability>
                    <kind>VOLATILE_DURABILITY_QOS</kind>
                </durability>
                <history>
                    <kind>KEEP_LAST_HISTORY_QOS</kind>
                    <depth>1</depth>
                </history>
            </datawriter_qos>
            
            <!-- 数据读者QoS - 可靠传输 -->
            <datareader_qos name="reliable">
                <reliability>
                    <kind>RELIABLE_RELIABILITY_QOS</kind>
                </reliability>
                <durability>
                    <kind>VOLATILE_DURABILITY_QOS</kind>
                </durability>
                <history>
                    <kind>KEEP_LAST_HISTORY_QOS</kind>
                    <depth>10</depth>
                </history>
            </datareader_qos>
            
            <!-- 数据读者QoS - 尽力而为传输 -->
            <datareader_qos name="best_effort">
                <reliability>
                    <kind>BEST_EFFORT_RELIABILITY_QOS</kind>
                </reliability>
                <durability>
                    <kind>VOLATILE_DURABILITY_QOS</kind>
                </durability>
                <history>
                    <kind>KEEP_LAST_HISTORY_QOS</kind>
                    <depth>1</depth>
                </history>
            </datareader_qos>
            
            <!-- 零拷贝QoS -->
            <datawriter_qos name="zerocopy">
                <reliability>
                    <kind>BEST_EFFORT_RELIABILITY_QOS</kind>
                </reliability>
                <message_mode>
                    <message_header_coalesce>true</message_header_coalesce>
                </message_mode>
            </datawriter_qos>
            
            <datareader_qos name="zerocopy">
                <reliability>
                    <kind>BEST_EFFORT_RELIABILITY_QOS</kind>
                </reliability>
            </datareader_qos>
        </qos_profile>
    </qos_library>
</zrdds_qos>
